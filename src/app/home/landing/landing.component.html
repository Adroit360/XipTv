<!-- <ns-action-bar header="Home"></ns-action-bar> -->
<!-- <Label text="na waa o"></Label> -->
<ScrollView>
    <StackLayout>
        <GridLayout height="280" background-color="red" style="margin: 0 0 0 0;">
            <Image height="280" loadMode="async" stretch="aspectFill" loadMode="async" src="res://artwork"></Image>
            <!-- <exoplayer [visibility]="showPlayer ? 'visible' : 'collapsed'" #videoplayer
                src="http://lemlagroup.com/wp-content/uploads/2020/07/montage2.mp4" (finished)="playerFinished()"
                (playbackReady)="playbackReady()" controls="false" fill="aspectFill" style="height: 300;" loop="false"
                autoplay="true"></exoplayer> -->
        </GridLayout>

        <StackLayout *ngIf="topsModel">
            <Label class="group-label" text="Top Channels"></Label>
            <GridLayout height="200">
                <ActivityIndicator borderRadius="50%" backgroundColor="white" *ngIf="!topsModel" row="2" color="black"
                    width="20" height="20" [busy]="true">
                </ActivityIndicator>
                <RadListView class="link-container" orientation="horizontal" [items]="topsModel.topChannels">
                    <ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"></ListViewLinearLayout>
                    <ng-template tkListItemTemplate let-i="index" let-item="item">
                        <StackLayout (tap)="openPlayer(item.name,item.url)">
                            <Image loadMode="async" class="link-item" *ngIf="isLogoPresent(item)"
                                stretch="aspectFit" [src]='item.logo'></Image>
                            <Label [text]="item.name"></Label>
                        </StackLayout>
                    </ng-template>
                </RadListView>
            </GridLayout>



            <Label class="group-label" text="Local Channels"></Label>
            <GridLayout height="200">
                <ActivityIndicator borderRadius="50%" backgroundColor="white" *ngIf="!topsModel" row="2" color="black"
                    width="20" height="20" [busy]="true">
                </ActivityIndicator>
                <RadListView class="link-container" orientation="horizontal" [items]="topsModel.localChannels">
                    <ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"></ListViewLinearLayout>
                    <ng-template tkListItemTemplate let-i="index" let-item="item">
                        <StackLayout (tap)="openPlayer(item.name,item.url)">
                            <Image loadMode="async" class="link-item" *ngIf="isLogoPresent(item)"
                                stretch="aspectFit" [src]='item.logo'></Image>
                            <Label [text]="item.name"></Label>
                        </StackLayout>
                    </ng-template>
                </RadListView>
            </GridLayout>

            <Label class="group-label" text="Top Movies"></Label>
            <GridLayout height="200">
                <ActivityIndicator borderRadius="50%" backgroundColor="white" *ngIf="!topsModel" row="2" color="black"
                    width="20" height="20" [busy]="true">
                </ActivityIndicator>
                <RadListView class="link-container" orientation="horizontal" [items]="topsModel.topMovies">
                    <ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"></ListViewLinearLayout>
                    <ng-template tkListItemTemplate let-i="index" let-item="item">
                        <StackLayout (tap)="openPlayer(item.name,item.url)">
                            <Image loadMode="async" class="link-item" *ngIf="isLogoPresent(item)"
                                stretch="aspectFit" [src]='item.logo'></Image>
                            <Label [text]="item.name"></Label>
                        </StackLayout>
                    </ng-template>
                </RadListView>
            </GridLayout>

            <Label class="group-label" text="Top Series"></Label>
            <GridLayout height="200">
                <ActivityIndicator borderRadius="50%" backgroundColor="white" *ngIf="!topsModel" row="2" color="black"
                    width="20" height="20" [busy]="true">
                </ActivityIndicator>
                <RadListView class="link-container" orientation="horizontal" [items]="topsModel.topSeries">
                    <ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"></ListViewLinearLayout>
                    <ng-template tkListItemTemplate let-i="index" let-item="item">
                        <StackLayout (tap)="openPlayer(item.name,item.url)">
                            <Image loadMode="async" class="link-item" *ngIf="isLogoPresent(item)"
                                stretch="aspectFit" [src]='item.logo'></Image>
                            <Label [text]="item.name"></Label>
                        </StackLayout>
                    </ng-template>
                </RadListView>
            </GridLayout>

            <FlexboxLayout justifyContent="center">
                <Button (tap)="viewAll()" class="action-btn" text="View all"></Button>
            </FlexboxLayout>

        </StackLayout>


        <FlexboxLayout *ngIf="!topsModel" flexDirection="column" justifyContent="center"
                alignItems="center" style="padding: 70 20;width: 100%;">
            <ActivityIndicator borderRadius="50%" backgroundColor="white" row="2" color="black"
                width="20" height="20" [busy]="true">
            </ActivityIndicator>

            <Label style="margin: 20;font-size: 14;" text="Please wait while we load your channels"></Label>
        </FlexboxLayout>


        <!-- <Image margin="20" src="res://banner"></Image> -->
    </StackLayout>
</ScrollView>
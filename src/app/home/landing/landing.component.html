<!-- <ns-action-bar header="Home"></ns-action-bar> -->
<!-- <Label text="na waa o"></Label> -->
<ScrollView>
    <StackLayout rows="200,*">
        <StackLayout *ngIf="currentSubscription">
            <Image *ngIf="currentSubscription.package.packageType == PackageType.Trial" loadMode="async"
                stretch="aspectFill" loadMode="async" src="~/resources/trial.png"></Image>
            <Image *ngIf="currentSubscription.package.packageType == PackageType.Sports" loadMode="async"
                stretch="aspectFill" loadMode="async" src="~/resources/sports.png"></Image>
            <Image *ngIf="currentSubscription.package.packageType == PackageType.Entertainment" loadMode="async"
                stretch="aspectFill" loadMode="async" src="~/resources/entertainment.png"></Image>
            <Image *ngIf="currentSubscription.package.packageType == PackageType.Premium" loadMode="async"
                stretch="aspectFill" loadMode="async" src="~/resources/premium.png"></Image>
        </StackLayout>

        <StackLayout row="1">

            <!--  <GridLayout height="280" background-color="red" style="margin: 0 0 0 0;">
                <Image height="280" loadMode="async" stretch="aspectFill" loadMode="async" src="res://artwork"></Image>
                <exoplayer [visibility]="showPlayer ? 'visible' : 'collapsed'" #videoplayer
                    src="http://lemlagroup.com/wp-content/uploads/2020/07/montage2.mp4" (finished)="playerFinished()"
                    (playbackReady)="playbackReady()" controls="false" fill="aspectFill" style="height: 300;" loop="false"
                    autoplay="true"></exoplayer>
            </GridLayout>-->

            <!-- <Button *ngIf="topsModel && topsModel.topSportsChannels" backgroundColor="white" color="black" margin="10"
                nsRouterLink="/home/livesports" text="Live Sports Event"></Button> -->

            <StackLayout *ngIf="topsModel">

                <Label *ngIf="topsModel.topSportsChannels" class="group-label" text="Top Sports Channels"></Label>
                <GridLayout *ngIf="topsModel.topSportsChannels">

                    <RadListView class="link-container" orientation="horizontal" [items]="topsModel.topSportsChannels">
                        <ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"></ListViewLinearLayout>
                        <ng-template tkListItemTemplate let-i="index" let-item="item">
                            <StackLayout (tap)="openPlayer(item.name,item.url)">
                                <NSImg class="link-item" *ngIf="isLogoPresent(item)" stretch="aspectFit" row="0" col="0" failureImageUri="~/img/defaultImage.png" placeholderImageUri="~/img/defaultImage.png"
                                    [src]="item.logo">
                                </NSImg>
                                <Label [text]="item.name"></Label>
                            </StackLayout>
                        </ng-template>
                    </RadListView>
                </GridLayout>


                <Label *ngIf="topsModel.topMovies" class="group-label" text="Top Movies"></Label>
                <GridLayout *ngIf="topsModel.topMovies">
                    <RadListView class="link-container entertainment" orientation="horizontal"
                        [items]="topsModel.topMovies">
                        <ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"></ListViewLinearLayout>
                        <ng-template tkListItemTemplate let-i="index" let-item="item">
                            <StackLayout class="entertainment" (tap)="openPlayer(item.name,item.url)">
                                <NSImg class="link-item" *ngIf="isLogoPresent(item)" stretch="aspectFit" failureImageUri="~/img/defaultImage.png" placeholderImageUri="~/img/defaultImage.png"
                                    [src]="item.logo">
                                </NSImg>
                                <Label [text]="item.name"></Label>
                            </StackLayout>
                        </ng-template>
                    </RadListView>
                </GridLayout>

                <Label *ngIf="topsModel.topSeries" class="group-label" text="Top Series"></Label>
                <GridLayout *ngIf="topsModel.topSeries">
                    <RadListView class="link-container entertainment" orientation="horizontal"
                        [items]="topsModel.topSeries">
                        <ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"></ListViewLinearLayout>
                        <ng-template tkListItemTemplate let-i="index" let-item="item">
                            <StackLayout class="entertainment" (tap)="openPlayer(item.name,item.url)">
                                <NSImg class="link-item" *ngIf="isLogoPresent(item)" stretch="aspectFit" failureImageUri="~/img/defaultImage.png" placeholderImageUri="~/img/defaultImage.png"
                                    [src]="item.logo">
                                </NSImg>
                                <Label [text]="item.name"></Label>
                            </StackLayout>
                        </ng-template>
                    </RadListView>
                </GridLayout>

                <Label *ngIf="topsModel.topChannels" class="group-label" text="Top Channels"></Label>
                <GridLayout *ngIf="topsModel.topChannels">

                    <RadListView class="link-container" orientation="horizontal" [items]="topsModel.topChannels">
                        <ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"></ListViewLinearLayout>
                        <ng-template tkListItemTemplate let-i="index" let-item="item">
                            <StackLayout (tap)="openPlayer(item.name,item.url)">
                                <NSImg class="link-item" *ngIf="isLogoPresent(item)" stretch="aspectFit" failureImageUri="~/img/defaultImage.png" placeholderImageUri="~/img/defaultImage.png"
                                    [src]="item.logo">
                                </NSImg>
                                <Label [text]="item.name"></Label>
                            </StackLayout>
                        </ng-template>
                    </RadListView>
                </GridLayout>

                <Label *ngIf="topsModel.localChannels" class="group-label" text="Local Channels"></Label>
                <GridLayout *ngIf="topsModel.localChannels">
                    <RadListView class="link-container" orientation="horizontal" [items]="topsModel.localChannels">
                        <ListViewLinearLayout tkListViewLayout scrollDirection="Horizontal"></ListViewLinearLayout>
                        <ng-template tkListItemTemplate let-i="index" let-item="item">
                            <StackLayout (tap)="openPlayer(item.name,item.url)">
                                <NSImg class="link-item" *ngIf="isLogoPresent(item)" stretch="aspectFit" failureImageUri="~/img/defaultImage.png" placeholderImageUri="~/img/defaultImage.png"
                                    [src]="item.logo">
                                </NSImg>
                                <Label [text]="item.name"></Label>
                            </StackLayout>
                        </ng-template>
                    </RadListView>
                </GridLayout>



                <FlexboxLayout justifyContent="center">
                    <Button (tap)="viewAll()" class="action-btn" text="View all"></Button>
                </FlexboxLayout>

            </StackLayout>


            <FlexboxLayout *ngIf="!topsModel" flexDirection="column" justifyContent="center" alignItems="center"
                style="padding: 70 20;width: 100%;">
                <ActivityIndicator borderRadius="50%" backgroundColor="white" row="2" color="black" [busy]="true">
                </ActivityIndicator>

                <Label style="margin: 20;font-size: 14;" text="Please wait while we load your channels"></Label>
            </FlexboxLayout>


            <!-- <Image margin="20" src="res://banner"></Image> -->
        </StackLayout>
    </StackLayout>
</ScrollView>